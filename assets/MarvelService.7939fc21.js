import{r as c}from"./index.6ec43df1.js";const f=()=>{const[u,e]=c.exports.useState(!1),[l,o]=c.exports.useState(null),a=c.exports.useCallback(async(i,p="GET",m=null,d={"Content-Type":"application/json"})=>{e(!0);try{const r=await fetch(i,{body:m,headers:d,method:p});if(!r.ok)throw new Error(`Could not fetch ${i},status: ${r.status}`);const $=await r.json();return e(!1),$}catch(r){throw e(!1),o(r.message),r}},[]),n=c.exports.useCallback(()=>{o(null)},[]);return{loading:u,request:a,error:l,clearError:n}},C=()=>{const{loading:u,request:e,error:l,clearError:o}=f(),a="https://gateway.marvel.com:443/v1/public/",n="apikey=814ba05196898ce25e13dc4c51ac87a5",i=610,p=async t=>(await e(`${a}characters?name=${t}&${n}`)).data.results.map(g),m=async(t=i)=>(await e(`${a}characters?limit=9&offset=${t}&${n}`)).data.results.map(g),d=async t=>{const s=await e(`${a}characters/${t}?${n}`);return g(s.data.results[0])},r=async(t=0)=>(await e(`${a}comics?orderBy=issueNumber&limit=8&offset=${t}&${n}`)).data.results.map(h),$=async t=>{const s=await e(`${a}comics/${t}?${n}`);return h(s.data.results[0])},g=t=>({id:t.id,name:t.name,description:t.description?`${t.description.slice(0,210)}...`:"There is no description for this character",thumbnail:t.thumbnail.path+"."+t.thumbnail.extension,homepage:t.urls[0].urls,wiki:t.urls[1].url,comics:t.comics.items}),h=t=>{var s;return{id:t.id,title:t.title,description:t.description||"There is no description",pageCount:t.pageCount?`${t.pageCount} p.`:"No information about the number of pages",thumbnail:t.thumbnail.path+"."+t.thumbnail.extension,language:((s=t.textObjects[0])==null?void 0:s.language)||"en-us",price:t.prices[0].price?`${t.prices[0].price}$`:"not available"}};return{loading:u,error:l,getCharacterByName:p,getAllCharacters:m,getCharacter:d,clearError:o,getAllComics:r,getComic:$}};export{C as u};
